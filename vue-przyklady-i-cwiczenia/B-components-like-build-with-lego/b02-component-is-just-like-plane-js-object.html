<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Komponent to po prostu zwykÅ‚y obiekt JS z konkretnymi polami</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <!--
        #PrzykÅ‚ad B-02:
        Inny, prostszy sposÃ³b definiowania komponentÃ³w.
        Komponenty specjalnie zostaÅ‚y "oddzielone" tagami <script> aby zobrazowaÄ‡, iÅ¼ docelowo bÄ™dÄ… to osobne pliki.

        #cel:
        Poznanie prostego sposobu przydzielania komponentÃ³w do instancji Vue,
        ktÃ³ry szerzej bÄ™dziemy stosowaÄ‡ w Node.js.
        Jest to przygotowanie do stosowania plikÃ³w .vue
        (ktÃ³re poznamy po uÅ¼yciu scaffold'u: npm init vue@latest)
    -->
    <main id="app">
        <header>
            <h1> ðŸ“¦ðŸ“¦ðŸ“¦ Komponenty to po prostu zwykÅ‚e obiekty JS....</h1>
            <div>
                Ten przykÅ‚ad pomoÅ¼e Ci zrozumieÄ‡, Å¼e moÅ¼emy odseparowaÄ‡ zapis komponentÃ³w od Vue <br>
                Wystarczy zadeklarowaÄ‡ komponenty jako zwykÅ‚e obiekty â€” z odpowiednimi elementami, ktÃ³re juÅ¼ znasz: <br>
                <code> setup() {} , ref() </code>. DochodzÄ… jeszcze wartoÅ›ci <code>name, template</code> <br>
                Wykorzystywany tutaj zapis bÄ™dzie towarzyszyÅ‚ nam najczÄ™Å›ciej - poniewaÅ¼ to podobnej skÅ‚adni bÄ™dziemy uÅ¼ywaÄ‡ w Node.js. <br>
                Warto wiÄ™c to przyswoiÄ‡ i zauwaÅ¼yÄ‡ pÃ³ÅºniejszÄ… analogiÄ™.
            </div>
        </header>

        <!-- PoniÅ¼ej nastÄ™puje skÅ‚adanie naszych "klockÃ³w" -->
        <div class="page">
            <the-header></the-header>
            <section>
                <h2> Strona </h2>
                <name-shouter> </name-shouter>
                <name-shouter> </name-shouter>
                <name-shouter> </name-shouter>
                <name-shouter> </name-shouter>
                <name-shouter> </name-shouter>
            </section>
            <the-footer> </the-footer>
        </div>
    </main>
    <script>
	    const { ref } = Vue;
        // Miejsce na komponent Header:
	    const TheHeader = {
		    template: `
                <header>
                    <h1>Hello Header</h1>
                    <hr>
                </header>
		    `
	    }
    </script>
    <script>
        // Komponent NameShouter
        // Stan danych wspÃ³Å‚dzielony przez N instancji komponentu name-shouter
        const name = ref('');
        const message = ref('');

        const NameShouter = {
	        template: `
                <div>
                    Podaj imiÄ™: <input v-model="name"> <button @click="shoutMyName()"> Krzyknij! </button>
                    <p v-if="message">
                        {{message}}
                    </p>
                </div>
            `,
        	setup() {
        		return {
        			name,
                    message,
                    shoutMyName() {
                        if(name.value) {
                            message.value = 'Masz na imiÄ™: ' + name.value
                        }
                        name.value = '';
                    }
                }
            }
        }
    </script>
    <script>
	    // Miejsce na komponent Footer:
	    const TheFooter = {
            template: `
                <footer style="text-align: center">
                    Copyright &copy; {{year}} Altkom Akademia
                </footer>
		    `,
		    name: 'TheFooter', // @hint: Vue sam przerobi zapis UpperCase na kebab-case na template do HTML!
            setup() {
               return {
               	    year: new Date().getFullYear()
               }
            }
	    }
    </script>
    <script>
        // Instancja Vue
        const { createApp } = Vue;
        const app = createApp({
            // Rejestrowanie komponentÃ³w, ktÃ³re bÄ™dÄ… uÅ¼ywane
            components: {
                TheHeader: TheHeader,
                TheFooter,
                NameShouter
                // Tutaj zastosowano skrÃ³cony syntax (nowoÅ›Ä‡ po 2015 w JS):
                // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#new_notations_in_ecmascript_2015
            },
        })
        app.mount('#app')
    </script>
    <style>
        body {
            font-family: Calibri, sans-serif;
            font-size: 18px;
        }
        .page section {
            margin: 1em;
            padding: 3em;
            min-height: 200px;
            background-color: #cccccc;
        }
    </style>
</body>
</html>
