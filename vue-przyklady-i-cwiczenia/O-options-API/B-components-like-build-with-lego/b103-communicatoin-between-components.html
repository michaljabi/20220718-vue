<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Komunikacja pomiÄ™dzy komponentami</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <!--
        #PrzykÅ‚ad B-103:
        Komunikacja pomiÄ™dzy komponentami w relacji parent-child zachodzi po przez wykorzystanie tzw. props.
        SÄ… one z perspektywy rodzica - jak bidnowane "atrybuty" elementu HTML'owego.
        JeÅ›li chodzi o komunikacjÄ™ child-parent - "najczystszym" rozwiÄ…zaniem jest uÅ¼ycie tzw. eventÃ³w i event emitera.
        DostÄ™p do $emit mamy z poziomu pola kaÅ¼dej instancji komponentu w Vue.

        #cel:
        Poznanie podstawowego sposobu komunikacji pomiÄ™dzy komponentami: (data - down (props), events - up ($emit) ).
    -->
    <!-- @hint: Tutaj dochodzimy do klasycznego SPA, gdzie widaÄ‡ jedynie odniesienie do gÅ‚Ã³wnego id: app w kodzie HTML aplikacji -->
    <div id="app"></div>
    <script>
      const MyTitle = {
          props: {
            superTitle: String // @hint: Tutaj okreÅ›lamy tzw props'a (nazwa i przeznaczenie podobne jak np. w React) i jego typ
          },
            data() {

            },
            // DziÄ™ki zastosowaniu $emit() mamy moÅ¼liwoÅ›Ä‡ komunikacji "w gÃ³rÄ™"
          template: `
            <h2>
                {{superTitle}}
                <button @click="$emit('on-shout', superTitle)"> ðŸŽ‰ </button>
            </h2>
          `
      }

      const { createApp } = Vue;
      const app = createApp({
        components: {
            MyTitle
        },
        data() {
            return {
		        applicationTitle: 'Moja super aplikacja'
	        }
        },
        methods: {
          shoutTheTitle(title) {
              alert(title)
          }
        },
        template: `
            <div>
                <h1>PrzykÅ‚ad komunikacji do komponentu</h1>
                <my-title super-title="Hello World - przykÅ‚adowy tytuÅ‚" @on-shout="shoutTheTitle($event)"></my-title>
                <div>pamiÄ™taj, Å¼e nie musimy przekazywaÄ‡ statycznych wartoÅ›ci, moÅ¼emy bindowaÄ‡:</div>
                <my-title :super-title="applicationTitle"></my-title>
                <my-title v-bind:super-title="applicationTitle"></my-title>
                <div>PamiÄ™taj, Å¼e bindowanie jest jak "otwarcie Å›wiata" JS po prawej stronie (w Å›rodku " ") </div>
                <my-title :super-title=" 1 + 1 + '100' "></my-title>
            </div>
        `
      })
      app.mount('#app')
    </script>
</body>
</html>
