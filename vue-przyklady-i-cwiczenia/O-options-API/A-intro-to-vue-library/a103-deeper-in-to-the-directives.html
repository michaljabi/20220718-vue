<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>U偶ywanie dyrektyw w templates</title>
    <script src="https://unpkg.com/vue@next"></script>
    <style>
        body {
            font-family: Calibri, Verdana, sans-serif;
        }
        main {
            display: flex;
            justify-content: center;
        }
        section {
            width: 500px;
            margin: 60px 5px;
        }
        header {
            background-color: #ec8d37;
            padding: 2px 6px;
        }
        .vue header {
            background-color: #55b780;
        }
        .vue .container {
            border-color: #55b780;
        }
        .container {
            border: 1px dashed #ec8d37;
            padding: 15px 10px;
        }
        .lights {
            padding: 5px;
            text-align: center;
        }
        .btn {
            border: 1px solid black;
            border-radius: 5px;
            padding: 8px;
            cursor: pointer;
        }
        .btn.btn-primary {
            background-color: #55b780;
        }
    </style>
</head>
<body>
    <!--
        #Przykad: A-103
        Pr贸ba powt贸rzenia funkcjonalnoci obsugiwanej przez czysty JavaScript (Vanilla)
        z poprzedniego przykadu. Tym razem przy u偶yciu Vue.js

        #cel:
        Poznanie dyrektyw manipulujcych zawartoci widoku.
        Kontynuacja pierwszych krok贸w z bindowaniem danych.
      -->
    <main id="app">
        <!--

        OLD PURE HTML+JS Version:

        <section>
            <header>
                <h1>Wycznik / Wcznik - Vanilla JS</h1>
            </header>
            <div class="container">
                <div class="lights">  -  -  -  </div>
                <button class="btn btn-primary switch" onclick="toggleTheLight()"> Wcznik wiata </button>
            </div>
            <script>
                const $lights = document.querySelector('.lights');
                function toggleTheLight() {
                    const isDisplayNone = $lights.style.display === 'none';
                    $lights.style.display = isDisplayNone ? 'block' : 'none';
                }
            </script>
        </section>
        -->
        <section class="vue">
            <header>
                <h1>Wycznik / Wcznik - wersja Vue</h1>
            </header>
            <div class="container">
                <div class="lights" v-if="lightsVisible">  -  -  -  </div>
                <button class="btn btn-primary switch" v-on:click="toggleTheLight"> Wcznik wiata </button>

                <!-- @hint: mo偶na r贸wnie偶 zapisa tak (Angular style) -->
                <!-- <button class="btn btn-primary switch" v-on:click="toggleTheLight()"> Wcznik wiata </button> -->

                <!-- @hint: mo偶na r贸wnie偶 zapisa tak wyapujc event natywny (r贸wnie偶 podobnie do Angular) -->
                <!-- <button class="btn btn-primary switch" v-on:click="toggleTheLight($event)"> Wcznik wiata </button> -->
            </div>
            <div class="container">
                Warto w lightsVisible: {{lightsVisible}}
            </div>
            <div class="container">
                Zwr贸 uwag na dyrektywy: <strong>v-if</strong> oraz <strong>v-on:click</strong>
            </div>
        </section>
    </main>
    <script>
        const { createApp } = Vue;
	    const app = createApp({
		    data() {
		    	return {
                  lightsVisible: true
                }
		    },
            methods: {
	          toggleTheLight() {
                this.lightsVisible = !this.lightsVisible;
	          }
	          /*
	            @hint: to jak jest zapisane toggleTheLight(), mo偶e Ci si wydawa dziwne, poniewa偶 jest to syntax z ES6

	            jest to ten sam zapis co stare dobre (przed 2015):
	            {
	                toggleTheLight: function() {
	                   //...tutaj logika...
	                }
	            }

	            UWAGA:
	            Mo偶esz r贸wnie偶 kojarzy nowo w ES6, to jest: () => {} arrow function.
	            W tym wypadku NIE MO呕EMY jej zastosowa.

	            Dzieje si tak poniewa偶 w rodku logiki do toggleTheLight odnosimy si do sowa kluczowego this.
	            Pod this, ma siedzie instancja Vue.js, jednak jeli zapiszesz to tak:

	            toggleTheLight: () => {
	               .....
	            }

	            pod "this" nie znajdzie si wtedy instancja Vue, tylko obiekt globalny Window.

	            Jest to zale偶no wynikajca ze specyfikacji arrow function i kontekstu wywoania w JavaScript.
	            Nie tylko r贸偶ni si ona od zwykej funkcji tym 偶e jest anonimowa i zapisuje si j kr贸tko.
	            R贸wnie偶 przyjmuje ona kontekst w kt贸rym zostaa zadeklarowana - a nie wywoana.
	            (zachowanie arrow function - jest wiec atwiejsze do okrelenia)

	            #1 Zadanie:
	            U偶ywajc debbuger'a w Chrome, udowodnij, 偶e zapis arrow function w przypadku toggleTheLight si nie sprawdzi.
	            Wskaz贸wki:
	                a) Podejrzyj obiekt this
	                b) Do wywoania debuggera wystarczy odpowiednio umiejscowione sowo kluczowe debugger i otwarte narzdzia dev.
	          */
            }
	    })
        app.mount('#app');
    </script>
</body>
</html>
