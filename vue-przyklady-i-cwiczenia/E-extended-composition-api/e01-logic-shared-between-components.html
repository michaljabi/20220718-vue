<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Composition API - logika wspÃ³Å‚dzielona</title>
    <script src="https://unpkg.com/vue@next"></script>
    <style>
        body {
            font-family: Calibri, Verdana, sans-serif;
        }
        main {
            display: flex;
            justify-content: center;
        }
        section {
            width: 500px;
            margin: 60px 5px;
        }
        header {
            background-color: #ec8d37;
            padding: 2px 6px;
        }
        .vue header {
            background-color: #55b780;
        }
        .vue .container {
            border-color: #55b780;
        }
        .container {
            border: 1px dashed #ec8d37;
            padding: 15px 10px;
        }
        .lights {
            padding: 5px;
            text-align: center;
        }
        .btn {
            border: 1px solid black;
            border-radius: 5px;
            padding: 8px;
            cursor: pointer;
        }
        .btn.btn-primary {
            background-color: #55b780;
        }
    </style>
</head>
<body>
    <main id="app">
        <section class="vue">
            <header>
                <h1>WyÅ‚Ä…cznik / WÅ‚Ä…cznik â€” wersja Vue</h1>
            </header>
            <!--
                W tym przykÅ‚adzie wszystkie te komponenty majÄ… logikÄ™ wspÃ³Å‚dzielonÄ… [!]

                KaÅ¼dy z komponentÃ³w zareaguje na zmiany dokonane w lightsVisible
            -->
            <lights-switcher></lights-switcher>
            <lights-switcher></lights-switcher>
            <lights-switcher></lights-switcher>
        </section>
    </main>
    <script>
	    const { createApp, ref } = Vue;

        // w tym ukÅ‚adzie ref() na zewnÄ…trz to stan "globalny":
	    const lightsVisible = ref(true);
	    const app = createApp({});
        app.component('lights-switcher', {
	        setup() {
		        return {lightsVisible};
	        },
	        methods: {
		        toggleTheLight() {
			        this.lightsVisible = !this.lightsVisible;
		        }
	        },
        	template: `
        	    <div class="container">
                    <div class="lights" v-if="lightsVisible"> ðŸ’¡ - ðŸ’¡ - ðŸ’¡ - ðŸ’¡ </div>
                    <button
                            class="btn btn-primary switch"
                            v-on:click="toggleTheLight"
                    >
                        WÅ‚Ä…cznik Å›wiatÅ‚a
                    </button>
                </div>
        	`
        })
        app.mount('#app');
    </script>
</body>
</html>
