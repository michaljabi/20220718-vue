<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>UÅ¼ywanie dyrektyw w templates</title>
    <script src="https://unpkg.com/vue@next"></script>
    <style>
        body {
            font-family: Calibri, Verdana, sans-serif;
        }
        main {
            display: flex;
            justify-content: center;
        }
        section {
            width: 500px;
            margin: 60px 5px;
        }
        header {
            background-color: #ec8d37;
            padding: 2px 6px;
        }
        .vue header {
            background-color: #55b780;
        }
        .vue .container {
            border-color: #55b780;
        }
        .container {
            border: 1px dashed #ec8d37;
            padding: 15px 10px;
        }
        .lights {
            padding: 5px;
            text-align: center;
        }
        .btn {
            border: 1px solid black;
            border-radius: 5px;
            padding: 8px;
            cursor: pointer;
        }
        .btn.btn-primary {
            background-color: #55b780;
        }
    </style>
</head>
<body>
    <!--
        #PrzykÅ‚ad: A-03
        PrÃ³ba powtÃ³rzenia funkcjonalnoÅ›ci obsÅ‚ugiwanej przez czysty JavaScript (Vanilla)
        z poprzedniego przykÅ‚adu. Tym razem przy uÅ¼yciu Vue.js

        #cel:
        Poznanie dyrektyw manipulujÄ…cych zawartoÅ›ciÄ… widoku.
        Kontynuacja pierwszych krokÃ³w z bindowaniem danych.
      -->
    <main id="app">
        <!--

        OLD PURE HTML+JS Version:

        <section>
            <header>
                <h1>WyÅ‚Ä…cznik / WÅ‚Ä…cznik - Vanilla JS</h1>
            </header>
            <div class="container">
                <div class="lights"> ðŸ’¡ - ðŸ’¡ - ðŸ’¡ - ðŸ’¡ </div>
                <button class="btn btn-primary switch" onclick="toggleTheLight()"> WÅ‚Ä…cznik Å›wiatÅ‚a </button>
            </div>
            <script>
                const $lights = document.querySelector('.lights');
                function toggleTheLight() {
                    const isDisplayNone = $lights.style.display === 'none';
                    $lights.style.display = isDisplayNone ? 'block' : 'none';
                }
            </script>
        </section>
        -->
        <section class="vue">
            <header>
                <h1>WyÅ‚Ä…cznik / WÅ‚Ä…cznik â€” wersja Vue</h1>
            </header>
            <div class="container">
                <div class="lights" v-if="lightsVisible"> ðŸ’¡ - ðŸ’¡ - ðŸ’¡ - ðŸ’¡ </div>
                <button class="btn btn-primary switch" v-on:click="toggleTheLight"> WÅ‚Ä…cznik Å›wiatÅ‚a </button>

                <!-- @hint: moÅ¼na rÃ³wnieÅ¼ zapisaÄ‡ tak (Angular style) -->
                <!-- <button class="btn btn-primary switch" v-on:click="toggleTheLight()"> WÅ‚Ä…cznik Å›wiatÅ‚a </button> -->

                <!-- @hint: moÅ¼na rÃ³wnieÅ¼ zapisaÄ‡ tak wyÅ‚apujÄ…c event natywny (rÃ³wnieÅ¼ podobnie do Angular) -->
                <!-- <button class="btn btn-primary switch" v-on:click="toggleTheLight($event)"> WÅ‚Ä…cznik Å›wiatÅ‚a </button> -->
            </div>
            <div class="container">
                WartoÅ›Ä‡ w lightsVisible: {{lightsVisible}}
            </div>
            <div class="container">
                ZwrÃ³Ä‡ uwagÄ™ na dyrektywy: <strong>v-if</strong> oraz <strong>v-on:click</strong>
            </div>
        </section>
    </main>
    <script>
        const { createApp, ref } = Vue;
	    const app = createApp({
		    setup() {
				// Specjalne oznaczenie, Å¼e coÅ› jest REAKTYWNE (ref)
                // Czyli "stan" ktÃ³ry zmienia siÄ™ w czasie.
				const lightsVisible = ref(true);
		    	return {
                    lightsVisible, // Nowy zapis z ES6+ (jeÅ›li pole w obiekcie i nazwa zmiennej majÄ… takÄ… samÄ… nazwÄ™
                    toggleTheLight() {
                        // Po stronie logiki musimy aktualizowaÄ‡ ref, przy uÅ¼yciu .value [!!!]
                        lightsVisible.value = !lightsVisible.value;
                    }
                    /*
                       @hint: to, jak jest zapisane toggleTheLight(), moÅ¼e Ci siÄ™ wydawaÄ‡ dziwne, poniewaÅ¼ jest to syntax z ES6+

                       Jest to ten sam zapis co stare dobre (przed 2015):
                       {
                           toggleTheLight: function() {
                              //...tutaj logika...
                           }
                       }
                    */
                }
		    }
	    })
        app.mount('#app');
    </script>
</body>
</html>
